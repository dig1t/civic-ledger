@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Ensure minimum font size for accessibility */
  html {
    font-size: 100%; /* 16px base */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* High contrast focus styles for keyboard navigation */
  *:focus-visible {
    @apply outline-none ring-focus ring-primary ring-offset-focus ring-offset-white;
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Skip link for keyboard users */
  .skip-link {
    @apply absolute left-0 top-0 z-50 -translate-y-full bg-primary px-4 py-2 text-white transition-transform focus:translate-y-0;
  }
}

@layer utilities {
  /* Toast slide-in animation */
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }
}

@layer components {
  /* Accessible button base styles */
  .btn {
    @apply inline-flex min-h-touch min-w-touch items-center justify-center rounded px-4 py-2 font-medium transition-colors focus-visible:outline-none focus-visible:ring-focus focus-visible:ring-primary focus-visible:ring-offset-focus disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply btn bg-primary text-white hover:bg-primary-dark;
  }

  .btn-secondary {
    @apply btn border-2 border-primary bg-white text-primary hover:bg-primary-lighter;
  }

  .btn-danger {
    @apply btn bg-error text-white hover:bg-error-dark;
  }

  /* Form input base styles */
  .input {
    @apply min-h-touch w-full rounded border-2 border-neutral-400 bg-white px-3 py-2 text-neutral-900 placeholder:text-neutral-500 focus:border-primary focus:outline-none focus:ring-focus focus:ring-primary focus:ring-offset-focus disabled:bg-neutral-100 disabled:text-neutral-500;
  }

  /* Form label styles */
  .label {
    @apply mb-1 block text-sm font-medium text-neutral-900;
  }

  /* Error message styles */
  .error-message {
    @apply mt-1 text-sm text-error;
  }

  /* Card component */
  .card {
    @apply rounded-lg border border-neutral-200 bg-white p-6 shadow-sm;
  }

  /* Alert components */
  .alert {
    @apply rounded-lg border-l-4 p-4;
  }

  .alert-info {
    @apply alert border-info bg-info-lighter text-neutral-900;
  }

  .alert-success {
    @apply alert border-success bg-success-lighter text-neutral-900;
  }

  .alert-warning {
    @apply alert border-warning bg-warning-lighter text-neutral-900;
  }

  .alert-error {
    @apply alert border-error bg-error-lighter text-neutral-900;
  }
}
